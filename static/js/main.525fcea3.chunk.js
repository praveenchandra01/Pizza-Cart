(this["webpackJsonpreact-cart"]=this["webpackJsonpreact-cart"]||[]).push([[0],{23:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){"use strict";c.r(t);var s=c(17),n=c.n(s),a=c(4),i=c(7),l=c(2),r=(c(23),c(1)),d=c(9),o=Object(r.createContext)(null),j=c(0),b=function(e){var t=Object(r.useState)(!1),c=Object(a.a)(t,2),s=c[0],n=c[1],l=Object(r.useContext)(o),b=l.cart,m=l.setCart,x=e.product;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(i.b,{to:"/products/".concat(x._id),children:Object(j.jsxs)("div",{style:{border:"2px solid #dbdbdb",borderRadius:"5px",maxWidth:"250px",boxShadow:"0px 5px 10px 0px #e8e8e8"},children:[Object(j.jsx)("img",{src:x.image,alt:x.name}),Object(j.jsxs)("div",{className:"text-center",children:[Object(j.jsx)("h2",{className:"text-lg font-bold py-2",children:x.name}),Object(j.jsx)("span",{className:"bg-gray-200 py-1 rounded-full text-sm px-4",children:x.size})]}),Object(j.jsxs)("div",{className:"p-2 flex justify-between items-center mt-4",children:[Object(j.jsxs)("span",{className:"font-bold",children:["\u20b9",x.price]}),Object(j.jsxs)("button",{disabled:s,onClick:function(e){!function(e,t){e.preventDefault();var c=Object(d.a)({},b);c.items||(c.items={}),c.items[t._id]?c.items[t._id]+=1:c.items[t._id]=1,c.totalItems||(c.totalItems=0),c.totalItems+=1,m(c),n(!0),setTimeout((function(){n(!1)}),1e3)}(e,x)},className:"".concat(s?"bg-green-500":"bg-yellow-500","  py-1 px-3 rounded-full font-bold"),children:["ADD",s?"ED":""]})]})]})})})},m=function(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),c=t[0],s=t[1];return Object(r.useEffect)((function(){fetch("https://star-spark-pasta.glitch.me/api/products/").then((function(e){return e.json()})).then((function(e){s(e)}))}),[]),Object(j.jsxs)("div",{className:"container mx-auto pb-24",children:[Object(j.jsx)("h1",{className:"text-lg pl-3 font-bold my-8",children:"Products"}),Object(j.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 my-8 px-2.5 gap-6 md:gap-12 ",children:c.map((function(e){return Object(j.jsx)(b,{product:e},e._id)}))})]})},x=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"hero pb-10",children:Object(j.jsxs)("div",{className:"container mx-auto flex items-center justify-between",children:[Object(j.jsxs)("div",{className:"p-6 md:pl-12 w-1/2",children:[Object(j.jsx)("h6",{className:"text-lg md:text-3xl",children:Object(j.jsx)("em",{children:"Are you hungry?"})}),Object(j.jsx)("h1",{className:"text-3xl md:text-7xl font-bold",children:"Don't wait !"}),Object(j.jsx)("button",{style:{transition:"all .3s"},className:"px-3 py-1 sm:px-6 sm:py-2 text-sm sm:text-lg rounded-full text-white font-bold mt-2 sm:mt-4 bg-yellow-500 hover:bg-yellow-400",children:"Order Now"})]}),Object(j.jsx)("div",{className:"w-1/2",children:Object(j.jsx)("img",{className:"w-5/6 m-auto py-10",src:"/images/pizza.png",alt:"Pizza"})})]})}),Object(j.jsx)("div",{className:"pb-12",children:Object(j.jsx)(m,{})})]})},u=function(){return Object(j.jsx)("div",{children:Object(j.jsx)(m,{})})};var O=function(){var e=0,t=Object(r.useState)([]),c=Object(a.a)(t,2),s=c[0],n=c[1],l=Object(r.useContext)(o),b=l.cart,m=l.setCart,x=Object(r.useState)(!1),u=Object(a.a)(x,2),O=u[0],h=u[1];Object(r.useEffect)((function(){Object(d.a)({},b).items&&(O||fetch("https://star-spark-pasta.glitch.me/api/products/cart-items",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({ids:Object.keys(b.items)})}).then((function(e){return e.json().then((function(e){n(e),h(!0)}))})))}),[b,O]);var f=function(e){return b.items[e]},p=function(t,c){var s=c*f(t);return e+=s,s};return s.length?Object(j.jsxs)("div",{className:"container mx-auto lg:w-1/2 w-full pb-24 p-4",children:[Object(j.jsx)("h1",{className:"my-12 font-bold",children:"Cart items"}),Object(j.jsx)("ul",{children:s.map((function(e){return Object(j.jsx)("li",{style:{background:"#ececec",padding:"10px",borderRadius:"10px"},className:"mb-6",children:Object(j.jsxs)("div",{className:"flex items-center justify-between",children:[Object(j.jsx)(i.b,{to:"/products/".concat(e._id),children:Object(j.jsxs)("div",{className:"flex items-center",children:[Object(j.jsx)("img",{className:"h-16",src:e.image,alt:""}),Object(j.jsx)("span",{className:"font-bold ml-4 w-20 md:w-48",children:e.name})]})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:function(){!function(e){var t=b.items[e];if(1!==t){var c=Object(d.a)({},b);c.items[e]=t-1,c.totalItems-=1,m(c)}}(e._id)},className:"bg-yellow-500 px-3 py-1 rounded-full leading-none",children:Object(j.jsx)("i",{className:"text-xs fas fa-minus"})}),Object(j.jsx)("b",{className:"px-4",children:f(e._id)}),Object(j.jsx)("button",{onClick:function(){!function(e){var t=b.items[e],c=Object(d.a)({},b);c.items[e]=t+1,c.totalItems+=1,m(c)}(e._id)},className:"bg-yellow-500 px-3 py-1 rounded-full leading-none",children:Object(j.jsx)("i",{className:"text-xs fas fa-plus"})})]}),Object(j.jsxs)("span",{children:["\u20b9 ",p(e._id,e.price)]}),Object(j.jsx)("button",{onClick:function(){!function(e){var t=Object(d.a)({},b),c=t.items[e];delete t.items[e],t.totalItems-=c,m(t);var a=s.filter((function(t){return t._id!==e}));n(a)}(e._id)},className:"bg-red-500 px-4 py-2 rounded-full leading-none text-white",children:"Delete"})]})},e._id)}))}),Object(j.jsx)("hr",{className:"my-6"}),Object(j.jsxs)("div",{className:"text-right",children:[Object(j.jsx)("b",{children:"Grand Total:"})," \u20b9 ",e]}),Object(j.jsx)("div",{className:"text-right mt-6",children:Object(j.jsx)("button",{onClick:function(){window.alert("Order placed successfully!"),n([]),m({})},className:"bg-yellow-500 px-4 py-2 rounded-full leading-none",children:"Order Now"})})]}):Object(j.jsx)("img",{className:"mx-auto w-1/2 mt-6 mb-6",src:"/images/empty-cart.png",alt:""})};c(30);var h=function(){var e=Object(r.useState)(!1),t=Object(a.a)(e,2),c=t[0],s=t[1];Object(r.useEffect)((function(){window.addEventListener("scroll",(function(){window.scrollY>30?s(!0):s(!1)}))}),[]);var n=Object(r.useContext)(o).cart,l=Object(d.a)({},n);return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("nav",{className:"nav ".concat(c&&"nav_background"," w-full flex items-center justify-between md:p-4"),children:[Object(j.jsx)(i.b,{to:"/",children:Object(j.jsx)("img",{style:{height:45,paddingLeft:10},src:"/images/logo.png",alt:"logo"})}),Object(j.jsxs)("ul",{className:"flex items-center",children:[Object(j.jsxs)("li",{className:"listItems highlight",children:[" ",Object(j.jsx)(i.b,{to:"/",children:"Home"})," "]}),Object(j.jsxs)("li",{className:"ml-6 listItems highlight",children:[" ",Object(j.jsx)(i.b,{to:"/products",children:"Products"})," "]}),Object(j.jsx)("li",{className:"ml-6 ",children:Object(j.jsx)(i.b,{to:"/cart",children:Object(j.jsxs)("div",{style:{background:"#F59E0D",display:"flex",borderRadius:50,padding:"5px 10px",marginRight:10},children:[Object(j.jsx)("span",{children:l.totalItems?l.totalItems:""}),Object(j.jsx)("img",{className:"ml-2",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFzSURBVHgBvVSBUcMwDJSzAGECsgEZwRvABmQD2CBsQJkANqAbNBu0nSBlAtjASI3cU4ytxL20f6eLYtnRSy/HAMM5V3nfGHOApYEJejfGD1oLS4EqcGlYWAAFt+YdrWOTeIRLgNiLStZwKbAmR20iBJqIX6M9B3tp7ZXkKBJ5dvwscdOdWK/RHiK+ZZP4QGv5Ga1kJVrWQCbwTCnOb6cq8YzBl87+y4Rfi/PfqSSd8O+JGQytqdh/0nwYty49PFJ8/sBs4P4v0a5K27gJLyVPTKP5/N57Pei9UAjthe97bGE8Uf98Zl7x+g40EDNRyQZmIjh3/GMYZTOx34olEnA/keMGrUHzGt7ib+sXlCRy1s/BiWBSE2ag91TH6azRdrGI1NesEUYQwU+1VUrSUrszTrsTMxO0ot9v4cdJA471PDTZCWJDYEV8FcRGI1/MzFNmxnM1HODGv5k+iNmgkkbGDWTADTeYWK7DyWHRLdoBYx1cG3891gjItGU6pwAAAABJRU5ErkJggg==",alt:"cart-icon"})]})})})]})]})})},f=function(){var e=Object(r.useState)(!1),t=Object(a.a)(e,2),c=t[0],s=t[1],n=Object(r.useContext)(o),i=n.cart,b=n.setCart,m=Object(r.useState)({}),x=Object(a.a)(m,2),u=x[0],O=x[1],h=Object(l.g)();Object(r.useEffect)((function(){fetch("/api/products/".concat(h._id)).then((function(e){return e.json()})).then((function(e){console.log(e),O(e)}))}),[h._id]);var f=Object(l.f)();return Object(j.jsxs)("div",{className:"container mx-auto mt-12 px-6",children:[Object(j.jsx)("button",{className:"mb-12 font-bold",onClick:function(){f.goBack()},children:"Back"}),Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)("img",{src:u.image,alt:""}),Object(j.jsxs)("div",{className:"ml-6 md:ml-16",children:[Object(j.jsx)("h1",{className:"text-xl font-bold",children:u.name}),Object(j.jsx)("div",{className:"text-md",children:u.size}),Object(j.jsxs)("div",{className:"font-bold mt-2",children:["\u20b9 ",u.price]}),Object(j.jsx)("button",{disabled:c,onClick:function(e){!function(e,t){e.preventDefault();var c=Object(d.a)({},i);c.items||(c.items={}),c.items[t._id]?c.items[t._id]+=1:c.items[t._id]=1,c.totalItems||(c.totalItems=0),c.totalItems+=1,b(c),s(!0),setTimeout((function(){s(!1)}),1e3)}(e,u)},className:"".concat(c?"bg-green-500":"bg-yellow-500","  py-1 px-3 rounded-full font-bold"),children:"".concat(c?"ADDED":"Add to cart")})]})]})]})},p=function(){var e=Object(r.useState)({}),t=Object(a.a)(e,2),c=t[0],s=t[1];return Object(r.useEffect)((function(){var e=window.localStorage.getItem("cart");s(JSON.parse(e))}),[]),Object(r.useEffect)((function(){!function(e){window.localStorage.setItem("cart",JSON.stringify(e))}(c)}),[c]),Object(j.jsx)("div",{children:Object(j.jsx)(i.a,{children:Object(j.jsxs)(o.Provider,{value:{cart:c,setCart:s},children:[Object(j.jsx)(h,{}),Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{path:"/",component:x,exact:!0}),Object(j.jsx)(l.a,{path:"/products",exact:!0,component:u}),Object(j.jsx)(l.a,{path:"/products/:_id",component:f}),Object(j.jsx)(l.a,{path:"/cart",component:O})]})]})})})};n.a.render(Object(j.jsx)(p,{}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.525fcea3.chunk.js.map