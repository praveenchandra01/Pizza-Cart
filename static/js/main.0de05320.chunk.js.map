{"version":3,"sources":["CartContext.js","components/Product.js","components/Products.js","pages/Home.js","pages/ProductsPage.js","pages/Cart.js","components/Navigation.js","pages/SingleProduct.js","App.js","helpers.js","index.js"],"names":["CartContext","createContext","Product","props","useState","isAdding","setIsAdding","useContext","cart","setCart","product","to","_id","style","border","borderRadius","maxWidth","boxShadow","src","image","alt","name","className","size","price","disabled","onClick","e","preventDefault","_cart","items","totalItems","setTimeout","addToCart","Products","products","setProducts","useEffect","fetch","then","response","json","map","Home","transition","ProductsPage","Cart","total","priceFetched","togglePriceFetched","method","headers","body","JSON","stringify","ids","Object","keys","res","getQty","productId","getSum","sum","length","background","padding","existingQty","decreament","increament","qty","updateProductList","filter","handleDelete","window","alert","Navigation","show","setShow","addEventListener","scrollY","height","paddingLeft","display","marginRight","SingleProduct","setProduct","param","useParams","console","log","history","useHistory","goBack","App","localStorage","getItem","parse","setItem","storeCart","Provider","value","path","component","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0de05320.chunk.js","sourcesContent":["import {createContext} from 'react';\r\n\r\n\r\nexport const CartContext = createContext(null);","import {Link} from 'react-router-dom';\r\nimport { CartContext } from '../CartContext';\r\nimport React,{ useContext ,useState } from 'react'\r\n\r\nconst Product = (props) => {\r\n\r\n    const [isAdding, setIsAdding] = useState(false);\r\n    const {cart, setCart} = useContext(CartContext);\r\n    const {product} = props;\r\n\r\n    const addToCart = (e, product) =>{\r\n        e.preventDefault(); \r\n        let _cart = {...cart};    //{items:{}}  //clone cart , in javaScript obj is passed by ref\r\n        if(!_cart.items){\r\n            _cart.items={}\r\n        }\r\n        if(_cart.items[product._id]){\r\n            _cart.items[product._id] += 1;\r\n        }\r\n        else{\r\n            _cart.items[product._id] = 1;\r\n        }\r\n        if(!_cart.totalItems){\r\n            _cart.totalItems = 0;\r\n        }\r\n        _cart.totalItems += 1;\r\n        setCart(_cart);\r\n        setIsAdding(true);\r\n        setTimeout(()=>{\r\n            setIsAdding(false);\r\n        },1000);\r\n\r\n        // let cart = {\r\n        //     items: {\r\n        //         '60c67b6af5ee510015f3dda3' : 2,\r\n        //         '60c67b5af5ee510015f3dda2' : 1,\r\n        //     },\r\n        //     totalItems : 5\r\n        // }\r\n    }\r\n\r\n    const mystyle = {\r\n        border: \"2px solid #dbdbdb\",\r\n        borderRadius: \"5px\",\r\n        maxWidth: \"250px\",\r\n        boxShadow: \"0px 5px 10px 0px #e8e8e8\"\r\n    }\r\n    return (\r\n        <>\r\n             <Link to={`/products/${product._id}`}>\r\n             <div style={mystyle}>\r\n                    <img src={product.image} alt={product.name} />\r\n                    <div className=\"text-center\">\r\n                          <h2 className=\"text-lg font-bold py-2\">{product.name}</h2>\r\n                          <span className=\"bg-gray-200 py-1 rounded-full text-sm px-4\">{product.size}</span>\r\n                    </div>\r\n                    <div className=\"p-2 flex justify-between items-center mt-4\">\r\n                        <span className=\"font-bold\">â‚¹{product.price}</span>\r\n                        <button disabled={isAdding} onClick={(e)=>{addToCart(e,product)}} className={`${ isAdding ?'bg-green-500':'bg-yellow-500'}  py-1 px-3 rounded-full font-bold`}>ADD{ isAdding?'ED':'' }</button>\r\n                    </div>\r\n            </div>\r\n             </Link>\r\n                \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Product\r\n","import React,{useState,useEffect} from 'react'\r\nimport Product from './Product';\r\n\r\nconst Products = () => {\r\n\r\n    const [products,setProducts] = useState([]);\r\n    useEffect(()=>{\r\n        fetch('https://star-spark-pasta.glitch.me/api/products/') //\r\n        .then(response=>response.json())\r\n        .then(products=>{\r\n            setProducts(products);\r\n        })\r\n    },[])\r\n    return (\r\n        <div className=\"container mx-auto pb-24\">\r\n            <h1 className=\"text-lg pl-3 font-bold my-8\">Products</h1>\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 my-8 px-2.5 gap-6 md:gap-12 \">\r\n           {\r\n               products.map(product=> <Product key={product._id} product={product}/>)\r\n           }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Products\r\n","import React from 'react'\r\nimport Products from '../components/Products'\r\n\r\nconst Home = () => {\r\n    const btn = {\r\n        transition: 'all .3s'\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <div className=\"hero pb-10\">\r\n            <div className=\"container mx-auto flex items-center justify-between\">\r\n                <div className=\"p-6 md:pl-12 w-1/2\">\r\n                <h6 className=\"text-lg md:text-3xl\"><em>Are you hungry?</em></h6>\r\n                <h1 className=\"text-3xl md:text-7xl font-bold\">Don't wait !</h1>\r\n                <button style={btn} className=\"px-3 py-1 sm:px-6 sm:py-2 text-sm sm:text-lg rounded-full text-white font-bold mt-2 sm:mt-4 bg-yellow-500 hover:bg-yellow-400\">Order Now</button>\r\n                </div>\r\n                <div className=\"w-1/2\">\r\n                    <img className=\"w-5/6 m-auto py-10\" src=\"/images/pizza.png\" alt=\"Pizza\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div className=\"pb-12\">\r\n            <Products />\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React from 'react';\r\nimport Products from '../components/Products'\r\n\r\nconst ProductsPage = () => {\r\n    return (\r\n        <div>\r\n           <Products />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductsPage\r\n","import React,{useContext,useEffect, useState} from 'react';\r\nimport {CartContext} from '../CartContext';\r\nimport {Link} from 'react-router-dom';\r\n\r\nfunction Cart() {\r\n\r\n    let total = 0\r\n    const [products,setProducts] = useState([]);\r\n    const { cart, setCart } = useContext(CartContext);\r\n    const [priceFetched, togglePriceFetched] = useState(false);\r\n    useEffect(() => {\r\n       const _cart = {...cart} //\r\n       if(!_cart.items){  //\r\n           return\r\n       }\r\n       if(priceFetched){\r\n           return\r\n       }\r\n       fetch('https://star-spark-pasta.glitch.me/api/products/cart-items',{  //\r\n           method: 'POST',\r\n           headers: {\r\n               'content-type': 'application/json'\r\n           },\r\n           body: JSON.stringify({ ids : Object.keys(cart.items)})\r\n       }).then(res=>res.json()\r\n       .then(products=>{\r\n            setProducts(products);\r\n            togglePriceFetched(true);\r\n       }))\r\n    }, [cart,priceFetched])\r\n\r\n    const getQty = (productId) => {\r\n        return cart.items[productId]\r\n    }\r\n\r\n    const increament = (productId) => {\r\n        const existingQty = cart.items[productId];\r\n        const _cart = {...cart}\r\n        _cart.items[productId] = existingQty + 1;\r\n        _cart.totalItems += 1;\r\n        setCart(_cart); \r\n    }\r\n    const decreament = (productId) => {\r\n        const existingQty = cart.items[productId];\r\n        if(existingQty === 1){\r\n            return;\r\n        }\r\n        const _cart = {...cart}\r\n        _cart.items[productId] = existingQty - 1;\r\n        _cart.totalItems -= 1;\r\n        setCart(_cart); \r\n    }\r\n    const getSum = (productId, price) => {\r\n        const sum = price * getQty(productId)\r\n        total += sum;\r\n        return sum;\r\n    }\r\n    const handleDelete = (productId) =>{\r\n        const _cart = {...cart};\r\n        const qty = _cart.items[productId]\r\n        delete _cart.items[productId]\r\n        _cart.totalItems -= qty\r\n        setCart(_cart);\r\n        const updateProductList = products.filter((product)=>product._id !== productId)\r\n        setProducts(updateProductList);\r\n    }\r\n    const handleOrderNow = () =>{\r\n        window.alert(\"Order placed successfully!\")\r\n        setProducts([])\r\n        setCart({})\r\n    }\r\n    return (\r\n        products.length\r\n        ? \r\n        <div className=\"container mx-auto lg:w-1/2 w-full pb-24 p-4\">\r\n            <h1 className=\"my-12 font-bold\">Cart items</h1>\r\n            <ul>\r\n                {\r\n                    products.map(product => {\r\n                        return (\r\n                            <li style={{background: '#ececec', padding: '10px', borderRadius: '10px'}} className=\"mb-6\" key={product._id}>\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <Link to={`/products/${product._id}`}>\r\n                                    <div className=\"flex items-center\">\r\n                                        <img className=\"h-16\" src={product.image} alt=\"\" />\r\n                                        <span className=\"font-bold ml-4 w-20 md:w-48\">{ product.name }</span>\r\n                                    </div>\r\n                                </Link>\r\n                                <div>\r\n                                   <button onClick={() => { decreament(product._id) }} className=\"bg-yellow-500 px-3 py-1 rounded-full leading-none\"><i className=\"text-xs fas fa-minus\"></i></button>\r\n                                   <b className=\"px-4\">{ getQty(product._id) }</b>\r\n                                   <button onClick={() => { increament(product._id) }} className=\"bg-yellow-500 px-3 py-1 rounded-full leading-none\"><i className=\"text-xs fas fa-plus\"></i></button>\r\n                                </div>\r\n                                <span>â‚¹ { getSum(product._id, product.price) }</span>\r\n                                <button onClick={() => { handleDelete(product._id) }} className=\"bg-red-500 px-4 py-2 rounded-full leading-none text-white\">Delete</button>\r\n                            </div>\r\n                        </li>\r\n                        )\r\n                    })\r\n                }\r\n            </ul>\r\n            <hr className=\"my-6\"/>\r\n            <div className=\"text-right\">\r\n                <b>Grand Total:</b> â‚¹ { total }\r\n            </div>\r\n            <div className=\"text-right mt-6\">\r\n                <button onClick={ handleOrderNow }  className=\"bg-yellow-500 px-4 py-2 rounded-full leading-none\">Order Now</button>\r\n            </div>\r\n        </div>\r\n        :\r\n        <img className=\"mx-auto w-1/2 mt-6 mb-6\" src=\"/images/empty-cart.png\" alt=\"\" />\r\n    )\r\n}\r\nexport default Cart\r\n","import { Link } from 'react-router-dom';\r\nimport {useState, useEffect, useContext} from 'react'\r\nimport { CartContext } from '../CartContext';\r\nimport \"./Nav.css\";\r\n\r\nfunction Navigation() {\r\n    const cardstyle={\r\n        background :'#F59E0D',\r\n        display : 'flex',\r\n        borderRadius : 50,\r\n        padding : \"5px 10px\",\r\n        marginRight: 10\r\n        }\r\n\r\n        const [show, setShow] = useState(false);\r\n        useEffect(() => {\r\n          window.addEventListener(\"scroll\", () => {\r\n            if (window.scrollY > 30) {\r\n              setShow(true);\r\n            } else {\r\n              setShow(false);\r\n            }\r\n          });\r\n        }, []);\r\n\r\n    const {cart}  = useContext(CartContext);\r\n    const _cart = {...cart} //\r\n\r\n    return (\r\n        <>\r\n         <nav className= {`nav ${show && \"nav_background\"} w-full flex items-center justify-between md:p-4`}>\r\n                <Link to='/'>\r\n                <img style={{height:45, paddingLeft:10}} src=\"/images/logo.png\" alt=\"logo\" />\r\n                </Link>\r\n\r\n                <ul className=\"flex items-center\">\r\n                   <li className=\"listItems highlight\"> <Link to=\"/\">Home</Link> </li>\r\n                   <li className=\"ml-6 listItems highlight\"> <Link to=\"/products\">Products</Link> </li>\r\n                   <li className=\"ml-6 \">  \r\n                         <Link to=\"/cart\">\r\n                            <div style={cardstyle}>\r\n                                <span>{_cart.totalItems ? _cart.totalItems : ''}</span>\r\n                                <img className=\"ml-2\" src=\"/images/cart.png\" alt=\"cart-icon\" />\r\n                           </div>\r\n                         </Link> \r\n                    </li>\r\n                </ul>\r\n         </nav>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Navigation","import React, {useState,useEffect,useContext} from 'react'\r\nimport {useParams, useHistory} from 'react-router-dom'\r\nimport { CartContext } from '../CartContext';\r\n\r\n\r\nconst SingleProduct = () => {\r\n\r\n    const [isAdding, setIsAdding] = useState(false);\r\n    const {cart, setCart} = useContext(CartContext);\r\n   \r\n\r\n    const addToCart = (e, product) =>{\r\n        e.preventDefault(); \r\n        let _cart = {...cart};    //{items:{}}  //clone cart , in javaScript obj is passed by ref\r\n        if(!_cart.items){\r\n            _cart.items={}\r\n        }\r\n        if(_cart.items[product._id]){\r\n            _cart.items[product._id] += 1;\r\n        }\r\n        else{\r\n            _cart.items[product._id] = 1;\r\n        }\r\n        if(!_cart.totalItems){\r\n            _cart.totalItems = 0;\r\n        }\r\n        _cart.totalItems += 1;\r\n        setCart(_cart);\r\n        setIsAdding(true);\r\n        setTimeout(()=>{\r\n            setIsAdding(false);\r\n        },1000);\r\n    }\r\n\r\n    const [product,setProduct] = useState({})\r\n    const param = useParams();\r\n    \r\n    \r\n    useEffect(() => {\r\n        fetch(`/api/products/${param._id}`)\r\n        .then(res=>res.json())\r\n        .then(product=>{\r\n            console.log(product);\r\n            setProduct(product);\r\n        })\r\n    },[param._id])\r\n\r\n    const history = useHistory();\r\n\r\n    return (\r\n        <div className=\"container mx-auto mt-12 px-6\">\r\n            <button className=\"mb-12 font-bold\" onClick={()=>{ history.goBack()} } >Back</button>\r\n            <div className=\"flex\">\r\n                <img src={product.image} alt=\"\" />\r\n                <div className=\"ml-6 md:ml-16\">\r\n                    <h1 className=\"text-xl font-bold\">\r\n                        {product.name}\r\n                    </h1>\r\n                    <div className=\"text-md\">{product.size}</div>\r\n                    <div className=\"font-bold mt-2\">â‚¹ {product.price}</div>\r\n                    <button disabled={isAdding} onClick={(e)=>{addToCart(e,product)}} className={`${ isAdding ?'bg-green-500':'bg-yellow-500'}  py-1 px-3 rounded-full font-bold`} >{`${isAdding?'ADDED':'Add to cart'}`}</button>\r\n                </div>\r\n            </div>\r\n           \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SingleProduct\r\n","import {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\r\nimport \"./App.css\"\r\nimport Home from \"./pages/Home\"\r\nimport ProductsPage from \"./pages/ProductsPage\"\r\nimport Cart from \"./pages/Cart\"\r\nimport Navigation from \"./components/Navigation\"\r\nimport SingleProduct from \"./pages/SingleProduct\"\r\nimport {CartContext} from './CartContext'\r\nimport {useEffect, useState} from 'react';\r\nimport { getCart, storeCart} from './helpers';\r\n\r\n\r\nconst App = () => {\r\n    const [cart, setCart] = useState({});\r\n    //fetch cart from local storage\r\n    useEffect(() => {\r\n       const cart = getCart();\r\n       setCart(JSON.parse(cart));\r\n    }, [])\r\n    \r\n    useEffect(() => {\r\n        storeCart(cart)\r\n    }, [cart]);\r\n\r\n    return(\r\n        <div>\r\n         <Router >\r\n            <CartContext.Provider value={{cart, setCart}}>\r\n            <Navigation />\r\n                <Switch>\r\n                    <Route path=\"/\" component={Home} exact></Route>\r\n                    <Route path=\"/products\" exact component={ProductsPage}></Route>\r\n                    <Route path=\"/products/:_id\" component={SingleProduct}></Route>\r\n                    <Route path=\"/cart\" component={Cart}></Route>\r\n                </Switch>\r\n            </CartContext.Provider>\r\n           \r\n         </Router>\r\n        </div>\r\n    )\r\n}\r\nexport default App;","export const getCart = () => {\r\n    const cart = window.localStorage.getItem('cart');\r\n    return cart;\r\n}\r\nexport const storeCart = (cart) => {\r\n    window.localStorage.setItem('cart', JSON.stringify(cart));\r\n}","import ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}